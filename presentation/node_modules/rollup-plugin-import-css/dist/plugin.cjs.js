/* Copyright (c) 2021 Outwalk Studios */
"use strict";var e=require("@rollup/pluginutils"),r=require("fs"),t=require("path");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=a(r),l=a(t);module.exports=(r={})=>{r.transform||(r.transform=e=>e);const t=r.alwaysOutput||!1,a=[],u=["**/*.css"].concat(r.include||[]),i=e.createFilter(u,r.exclude||[]);return{name:"import-css",load(e){if(i(e))return n.default.readFileSync(e,"utf8")},transform(e,t){if(!i(t))return;const n=r.minify?r.transform(e).replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!"):r.transform(e);return a[t]=n,{code:`export default ${JSON.stringify(n)};`,map:{mappings:""}}},generateBundle(e,n){for(let u in n){let i=Array.isArray(n[u].modules)?n[u].modules:Object.getOwnPropertyNames(n[u].modules),s=Object.entries(a).sort(((e,r)=>i.indexOf(e[0])-i.indexOf(r[0]))).map((e=>{if(!n[u].modules[e[0]])return e[1]})).join("\n");if(s.trim().length<=0&&!t)return;const o=r.output||l.default.join(l.default.dirname(e.file),l.default.basename(u,l.default.extname(e.file))+".css");this.emitFile({type:"asset",fileName:o,source:s})}}}};
